<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bijnor Services - WhatsApp-Powered CRM & Claims Processing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js"></script>
    
    <!-- Google OAuth -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <!-- Facebook SDK -->
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v18.0&appId=your-app-id"></script>
    
    <style>
        .hero-gradient { background: linear-gradient(135deg, #25D366 0%, #128C7E 50%, #075E54 100%); }
        .whatsapp-gradient { background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .status-registered { background: #dbeafe; color: #1e40af; }
        .status-verified { background: #dcfce7; color: #166534; }
        .status-assigned { background: #fef3c7; color: #92400e; }
        .status-in-progress { background: #fde68a; color: #d97706; }
        .status-completed { background: #d1fae5; color: #065f46; }
        .status-settled { background: #ecfdf5; color: #047857; }
        .dealer-level-1 { background: #f3f4f6; color: #374151; }
        .dealer-level-2 { background: #dbeafe; color: #1e40af; }
        .dealer-level-3 { background: #fef3c7; color: #d97706; }
        .dealer-level-4 { background: #dcfce7; color: #166534; }
        .pulse-animation { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .whatsapp-float {
            position: fixed;
            width: 60px;
            height: 60px;
            bottom: 40px;
            right: 40px;
            background-color: #25d366;
            color: #FFF;
            border-radius: 50px;
            text-align: center;
            font-size: 30px;
            box-shadow: 2px 2px 3px #999;
            z-index: 100;
            animation: pulse 2s infinite;
        }
        .whatsapp-float:hover {
            background-color: #128c7e;
            animation: none;
        }
        .social-btn {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .social-btn:hover {
            transform: scale(1.05);
            border-color: currentColor;
        }
        .notification-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .logo-highlight {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
            animation: logoGlow 3s ease-in-out infinite;
        }
        @keyframes logoGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
            50% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.5); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/918006999806?text=Hi! I need assistance with my device service or insurance claim." target="_blank" class="whatsapp-float">
        <i class="fab fa-whatsapp mt-4"></i>
    </a>

    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <img src="bijnor-services-logo.png" alt="Bijnor Services" class="h-14 w-auto mr-4 bg-white rounded-lg p-2 shadow-md border border-gray-200">
                        <div>
                            <span class="text-xl font-bold text-gray-800">Professional Device Services</span>
                            <div class="text-sm text-gray-500">Samsung Service Center â€¢ Bajaj Allianz Partner</div>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="showSection('home')" class="nav-btn text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">
                        <i class="fas fa-home mr-1"></i>Home
                    </button>
                    <button onclick="requireLogin('whatsapp-crm')" class="nav-btn text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">
                        <i class="fas fa-chart-bar mr-1"></i>CRM Dashboard
                    </button>
                    <button onclick="requireLogin('claims')" class="nav-btn text-gray-700 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">
                        <i class="fas fa-file-medical mr-1"></i>Service Requests
                    </button>
                    <a href="javascript:void(0)" onclick="accessSLADashboard()" class="nav-btn text-gray-700 hover:text-red-600 px-3 py-2 rounded-md text-sm font-medium relative" id="sla-dashboard-link" style="display:none;">
                        <i class="fas fa-chart-line mr-1"></i>SLA Dashboard
                        <span class="notification-badge" id="sla-badge">3</span>
                    </a>
                    <button onclick="showSection('login')" class="nav-btn bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md text-sm font-medium" id="login-btn">
                        <i class="fas fa-sign-in-alt mr-1"></i>Partner Login
                    </button>
                    <div class="nav-btn text-gray-700 px-4 py-2 rounded-md text-sm font-medium" id="user-info" style="display:none;">
                        <i class="fas fa-user-circle mr-2"></i>
                        <span id="user-name">Welcome</span>
                        <button onclick="logout()" class="ml-2 text-red-600 hover:text-red-800">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <div id="home-section" class="section">
        <!-- Hero Section -->
        <div class="hero-gradient text-white py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <div class="mb-8">
                        <div class="bg-white rounded-xl p-6 shadow-2xl mx-auto w-fit border-4 border-blue-200 logo-highlight">
                            <img src="bijnor-services-logo.png" alt="Bijnor Services" class="h-32 w-auto mx-auto">
                        </div>
                    </div>
                    <h1 class="text-4xl md:text-6xl font-bold mb-6">
                        Professional Device Services
                    </h1>
                    <p class="text-xl md:text-2xl mb-4 text-green-100">
                        Professional Device Service & Insurance Solutions
                    </p>
                    <p class="text-lg mb-8 text-green-200">
                        Authorized Samsung Service Center â€¢ Bajaj Allianz Insurance Partner
                    </p>
                    <div class="flex flex-col md:flex-row gap-4 justify-center">
                        <a href="https://wa.me/918006999806?text=Hi! I want to connect with Bijnor Services for device service or insurance assistance." class="whatsapp-gradient text-white px-8 py-4 rounded-lg font-semibold hover:opacity-90 transition-all transform hover:scale-105">
                            <i class="fab fa-whatsapp mr-2 text-2xl"></i>Connect via WhatsApp
                        </a>
                        <button onclick="requireLogin('claims')" class="bg-white text-green-600 px-8 py-4 rounded-lg font-semibold hover:bg-green-50 transition-colors">
                            <i class="fas fa-file-medical mr-2"></i>Submit Service Request
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Service Features -->
        <div class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <div class="bg-gradient-to-r from-blue-50 to-gray-50 rounded-2xl p-8 mb-8 border border-blue-200">
                        <img src="bijnor-services-logo.png" alt="Bijnor Services" class="h-20 w-auto mx-auto mb-4">
                        <h2 class="text-3xl font-bold text-gray-900 mb-2">Professional Service Experience</h2>
                        <p class="text-gray-600">Seamless communication through modern messaging platform</p>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-4 gap-6">
                    <div class="card-hover bg-green-50 p-6 rounded-lg text-center border border-green-200">
                        <i class="fas fa-file-medical text-5xl text-green-500 mb-4"></i>
                        <h3 class="font-semibold text-gray-900 mb-2">Service Requests</h3>
                        <p class="text-gray-600 text-sm">Submit device service requirements with documentation</p>
                    </div>
                    <div class="card-hover bg-blue-50 p-6 rounded-lg text-center border border-blue-200">
                        <i class="fas fa-clock text-5xl text-blue-500 mb-4"></i>
                        <h3 class="font-semibold text-gray-900 mb-2">Status Tracking</h3>
                        <p class="text-gray-600 text-sm">Real-time progress updates and notifications</p>
                    </div>
                    <div class="card-hover bg-purple-50 p-6 rounded-lg text-center border border-purple-200">
                        <i class="fas fa-headset text-5xl text-purple-500 mb-4"></i>
                        <h3 class="font-semibold text-gray-900 mb-2">Support System</h3>
                        <p class="text-gray-600 text-sm">Professional customer assistance available</p>
                    </div>
                    <div class="card-hover bg-yellow-50 p-6 rounded-lg text-center border border-yellow-200">
                        <i class="fas fa-shield-alt text-5xl text-yellow-500 mb-4"></i>
                        <h3 class="font-semibold text-gray-900 mb-2">Quality Assurance</h3>
                        <p class="text-gray-600 text-sm">Professional service standards and warranties</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact Channels -->
        <div class="py-16 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <div class="bg-white rounded-lg p-4 shadow-lg mx-auto w-fit mb-6 border border-gray-200">
                        <img src="bijnor-services-logo.png" alt="Bijnor Services" class="h-16 w-auto mx-auto">
                    </div>
                    <h2 class="text-3xl font-bold text-gray-900">Multiple Ways to Connect</h2>
                </div>
                <div class="grid md:grid-cols-4 gap-6">
                    <a href="https://wa.me/918006999806" target="_blank" class="card-hover bg-green-50 p-6 rounded-lg text-center border border-green-200">
                        <i class="fab fa-whatsapp text-4xl text-green-500 mb-4"></i>
                        <h3 class="font-semibold text-gray-900">WhatsApp Support</h3>
                        <p class="text-gray-600 text-sm">+91 8006999806</p>
                        <span class="inline-block bg-green-500 text-white text-xs px-2 py-1 rounded-full mt-2">24/7 Active</span>
                    </a>
                    <a href="https://www.facebook.com/bijnorservices" target="_blank" class="card-hover bg-blue-50 p-6 rounded-lg text-center border border-blue-200">
                        <i class="fab fa-facebook-messenger text-4xl text-blue-500 mb-4"></i>
                        <h3 class="font-semibold text-gray-900">Messenger</h3>
                        <p class="text-gray-600 text-sm">Facebook Chat Support</p>
                    </a>
                    <a href="http://www.bijnorservices.in/" target="_blank" class="card-hover bg-purple-50 p-6 rounded-lg text-center border border-purple-200">
                        <i class="fas fa-globe text-4xl text-purple-500 mb-4"></i>
                        <h3 class="font-semibold text-gray-900">Website</h3>
                        <p class="text-gray-600 text-sm">Official Portal</p>
                    </a>
                    <a href="https://maps.app.goo.gl/Q8jusQuafzFFhJ278" target="_blank" class="card-hover bg-red-50 p-6 rounded-lg text-center border border-red-200">
                        <i class="fas fa-map-marker-alt text-4xl text-red-500 mb-4"></i>
                        <h3 class="font-semibold text-gray-900">Visit Us</h3>
                        <p class="text-gray-600 text-sm">Civil Line, Bijnor</p>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- WhatsApp CRM Section -->
    <div id="whatsapp-crm-section" class="section hidden">
        <div class="py-16">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold text-center text-gray-900 mb-4">
                    <i class="fab fa-whatsapp text-green-500 mr-3"></i>WhatsApp CRM Dashboard
                </h2>
                <p class="text-center text-gray-600 mb-12">Manage everything through WhatsApp integration</p>
                
                <!-- WhatsApp Commands Guide -->
                <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
                    <h3 class="text-2xl font-semibold mb-6 flex items-center">
                        <i class="fas fa-terminal text-blue-500 mr-3"></i>WhatsApp Commands
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-4">Customer Commands</h4>
                            <div class="space-y-3">
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-green-600 font-mono">*STATUS [CLAIM_NUMBER]*</code>
                                    <p class="text-sm text-gray-600">Check claim status</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-green-600 font-mono">*NEW CLAIM*</code>
                                    <p class="text-sm text-gray-600">Start new claim process</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-green-600 font-mono">*SUPPORT*</code>
                                    <p class="text-sm text-gray-600">Connect with human agent</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-green-600 font-mono">*TRACK [ORDER_ID]*</code>
                                    <p class="text-sm text-gray-600">Track device pickup/delivery</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-4">Partner Commands</h4>
                            <div class="space-y-3">
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-blue-600 font-mono">*DASHBOARD*</code>
                                    <p class="text-sm text-gray-600">Get partner dashboard</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-blue-600 font-mono">*UPDATE [CLAIM_ID] [STATUS]*</code>
                                    <p class="text-sm text-gray-600">Update claim status</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-blue-600 font-mono">*SLA STATUS [CASE_ID]*</code>
                                    <p class="text-sm text-gray-600">Check SLA compliance</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-blue-600 font-mono">*ESCALATE [CASE_ID] [REASON]*</code>
                                    <p class="text-sm text-gray-600">Manual escalation</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-blue-600 font-mono">*SLA REPORT*</code>
                                    <p class="text-sm text-gray-600">Get SLA performance</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <code class="text-blue-600 font-mono">*URGENT [CASE_ID]*</code>
                                    <p class="text-sm text-gray-600">Mark as urgent priority</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Live WhatsApp Integration -->
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Customer Panel -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 flex items-center">
                            <i class="fas fa-users text-green-500 mr-2"></i>Customer Experience
                        </h3>
                        <div class="space-y-4">
                            <a href="https://wa.me/918006999806?text=*NEW CLAIM* - I want to submit a new insurance claim for my device" 
                               target="_blank" 
                               class="block w-full bg-green-600 text-white p-4 rounded-lg hover:bg-green-700 transition-colors">
                                <i class="fab fa-whatsapp mr-2"></i>Start New Claim via WhatsApp
                            </a>
                            <a href="https://wa.me/918006999806?text=*STATUS BA2025* - Please check my claim status" 
                               target="_blank" 
                               class="block w-full bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition-colors">
                                <i class="fas fa-search mr-2"></i>Check Claim Status
                            </a>
                            <a href="https://wa.me/918006999806?text=*SUPPORT* - I need help with my device service" 
                               target="_blank" 
                               class="block w-full bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 transition-colors">
                                <i class="fas fa-headset mr-2"></i>Get Human Support
                            </a>
                        </div>
                    </div>

                    <!-- Partner Panel -->
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 flex items-center">
                            <i class="fas fa-briefcase text-blue-500 mr-2"></i>Partner Access
                        </h3>
                        <div class="space-y-4">
                            <a href="https://wa.me/918006999806?text=*DASHBOARD* - Show my partner dashboard with pending claims" 
                               target="_blank" 
                               class="block w-full bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition-colors">
                                <i class="fas fa-chart-line mr-2"></i>Partner Dashboard
                            </a>
                            <a href="https://wa.me/918006999806?text=*SLA REPORT* - Send current SLA performance and breach alerts" 
                               target="_blank" 
                               class="block w-full bg-red-600 text-white p-4 rounded-lg hover:bg-red-700 transition-colors">
                                <i class="fas fa-exclamation-triangle mr-2"></i>SLA Monitor
                            </a>
                            <a href="https://wa.me/918006999806?text=*UPDATE BA2025001 IN_PROGRESS* - Updating claim status to in progress" 
                               target="_blank" 
                               class="block w-full bg-yellow-600 text-white p-4 rounded-lg hover:bg-yellow-700 transition-colors">
                                <i class="fas fa-edit mr-2"></i>Update Status
                            </a>
                            <a href="https://wa.me/918006999806?text=*ESCALATE BA2025001 SLA_BREACH* - Manual escalation due to SLA breach" 
                               target="_blank" 
                               class="block w-full bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 transition-colors">
                                <i class="fas fa-arrow-up mr-2"></i>Escalate Case
                            </a>
                        </div>
                    </div>
                </div>

                <!-- WhatsApp Bot Features -->
                <div class="mt-12 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg p-8 text-white">
                    <h3 class="text-2xl font-semibold mb-6 text-center">
                        <i class="fas fa-robot mr-2"></i>AI-Powered WhatsApp Bot Features
                    </h3>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="text-center">
                            <i class="fas fa-clock text-4xl mb-3"></i>
                            <h4 class="font-semibold mb-2">24/7 Availability</h4>
                            <p class="text-sm opacity-90">Instant responses any time of day</p>
                        </div>
                        <div class="text-center">
                            <i class="fas fa-language text-4xl mb-3"></i>
                            <h4 class="font-semibold mb-2">Multi-Language</h4>
                            <p class="text-sm opacity-90">Hindi, English, and Hinglish support</p>
                        </div>
                        <div class="text-center">
                            <i class="fas fa-camera text-4xl mb-3"></i>
                            <h4 class="font-semibold mb-2">Image Processing</h4>
                            <p class="text-sm opacity-90">Analyze device damage photos</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Section -->
    <div id="login-section" class="section hidden">
        <div class="py-16">
            <div class="max-w-md mx-auto px-4 sm:px-6 lg:px-8">
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h2 class="text-2xl font-bold text-center text-gray-900 mb-8">
                        <i class="fas fa-sign-in-alt mr-2"></i>Quick Login
                    </h2>
                    
                    <!-- Social Login Buttons -->
                    <div class="space-y-4 mb-6">
                        <button onclick="signInWithGoogle()" class="social-btn w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white hover:bg-gray-50 transition-colors">
                            <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24">
                                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                            </svg>
                            Continue with Google
                        </button>
                        
                        <button onclick="signInWithFacebook()" class="social-btn w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                            <i class="fab fa-facebook-f text-xl mr-3"></i>
                            Continue with Facebook
                        </button>
                        
                        <button onclick="signInWithApple()" class="social-btn w-full flex items-center justify-center px-4 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors">
                            <i class="fab fa-apple text-xl mr-3"></i>
                            Continue with Apple
                        </button>

                        <a href="https://wa.me/918006999806?text=*LOGIN* - I want to access my partner dashboard" target="_blank" class="social-btn w-full flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
                            <i class="fab fa-whatsapp text-xl mr-3"></i>
                            Login via WhatsApp
                        </a>
                    </div>

                    <div class="relative mb-6">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">Or login with credentials</span>
                        </div>
                    </div>

                    <!-- Traditional Login Form -->
                    <form id="loginForm" class="space-y-4">
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Username/Email</label>
                            <input type="text" id="loginUsername" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">Password</label>
                            <input type="password" id="loginPassword" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                        <div class="flex items-center justify-between">
                            <label class="flex items-center">
                                <input type="checkbox" class="rounded border-gray-300 text-green-600 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50">
                                <span class="ml-2 text-sm text-gray-600">Remember me</span>
                            </label>
                            <a href="#" class="text-sm text-green-600 hover:text-green-500">Forgot password?</a>
                        </div>
                        <button type="submit" class="w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors">
                            Sign In
                        </button>
                    </form>

                    <div class="mt-6 text-center">
                        <p class="text-sm text-gray-600">
                            New partner? 
                            <a href="https://wa.me/918006999806?text=*REGISTER* - I want to become a partner" target="_blank" class="text-green-600 hover:text-green-500 font-medium">
                                Register via WhatsApp
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Claims Section -->
    <div id="claims-section" class="section hidden">
        <div class="py-16">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold text-center text-gray-900 mb-4">Submit Insurance Claim</h2>
                <p class="text-center text-gray-600 mb-8">You'll get instant WhatsApp updates throughout the process</p>
                
                <!-- WhatsApp Integration Notice with SLA -->
                <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-4">
                    <div class="flex items-center">
                        <i class="fab fa-whatsapp text-green-500 text-2xl mr-3"></i>
                        <div>
                            <h4 class="font-semibold text-green-800">WhatsApp Integration Active</h4>
                            <p class="text-green-700 text-sm">After submission, you'll receive instant WhatsApp confirmation and updates at each step.</p>
                        </div>
                    </div>
                </div>

                <!-- Service Commitment Notice -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8">
                    <div class="flex items-center">
                        <i class="fas fa-handshake text-blue-500 text-2xl mr-3"></i>
                        <div>
                            <h4 class="font-semibold text-blue-800">Professional Service Commitment</h4>
                            <p class="text-blue-700 text-sm mb-2">Our service standards with systematic follow-up:</p>
                            <div class="grid grid-cols-2 gap-2 text-xs text-blue-600">
                                <span>â€¢ âœ… Initial Contact: 4 hours</span>
                                <span>â€¢ âœ… Appointment Setup: Same day</span>
                                <span>â€¢ âœ… Follow-up Day 1: 24 hours</span>
                                <span>â€¢ âœ… Follow-up Day 2: 48 hours</span>
                                <span>â€¢ âœ… Follow-up Day 3: 72 hours</span>
                                <span>â€¢ âœ… Automatic Escalation: If needed</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <form id="claimsForm" class="bg-white p-8 rounded-lg shadow-lg">
                    <!-- Customer Information -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-user text-blue-500 mr-2"></i>Customer Information
                        </h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Full Name *</label>
                                <input type="text" id="customerName" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">WhatsApp Number *</label>
                                <input type="tel" id="customerPhone" required placeholder="+91 XXXXXXXXXX" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                <p class="text-sm text-gray-500 mt-1">You'll receive all updates on this WhatsApp number</p>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Email (Optional)</label>
                                <input type="email" id="customerEmail" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Address *</label>
                                <textarea id="customerAddress" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" rows="2"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Device Information -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-mobile-alt text-green-500 mr-2"></i>Device Information
                        </h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Device Brand *</label>
                                <select id="deviceBrand" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                    <option value="">Select Brand</option>
                                    <option value="Samsung">Samsung</option>
                                    <option value="Apple">Apple</option>
                                    <option value="OnePlus">OnePlus</option>
                                    <option value="Oppo">Oppo</option>
                                    <option value="Vivo">Vivo</option>
                                    <option value="Xiaomi">Xiaomi</option>
                                    <option value="Realme">Realme</option>
                                    <option value="Motorola">Motorola</option>
                                    <option value="Nothing">Nothing</option>
                                    <option value="Tecno">Tecno</option>
                                    <option value="Infinix">Infinix</option>
                                    <option value="iTel">iTel</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Device Model *</label>
                                <input type="text" id="deviceModel" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">IMEI Number *</label>
                                <input type="text" id="deviceImei" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Purchase Date *</label>
                                <input type="date" id="purchaseDate" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            </div>
                        </div>
                    </div>

                    <!-- Incident Details -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i>Incident Details
                        </h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Incident Type *</label>
                                <select id="incidentType" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                    <option value="">Select Type</option>
                                    <option value="Physical Damage">Physical Damage</option>
                                    <option value="Liquid Damage">Liquid Damage</option>
                                    <option value="Theft">Theft</option>
                                    <option value="Screen Break">Screen Break</option>
                                    <option value="Hardware Failure">Hardware Failure</option>
                                    <option value="Software Issue">Software Issue</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Incident Date *</label>
                                <input type="date" id="incidentDate" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-gray-700 font-medium mb-2">Incident Description *</label>
                                <textarea id="incidentDescription" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500" rows="3"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Service Type -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-cogs text-purple-500 mr-2"></i>Service Preference
                        </h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="border border-gray-300 p-4 rounded-lg hover:border-green-500 transition-colors">
                                <label class="flex items-center cursor-pointer">
                                    <input type="radio" name="serviceType" value="Pickup & Drop" class="mr-3 text-green-600">
                                    <div>
                                        <div class="font-semibold">Pickup & Drop</div>
                                        <div class="text-gray-600 text-sm">We collect and deliver your device</div>
                                        <div class="text-green-600 text-xs mt-1">âœ“ WhatsApp tracking updates</div>
                                    </div>
                                </label>
                            </div>
                            <div class="border border-gray-300 p-4 rounded-lg hover:border-green-500 transition-colors">
                                <label class="flex items-center cursor-pointer">
                                    <input type="radio" name="serviceType" value="Reimbursement" class="mr-3 text-green-600">
                                    <div>
                                        <div class="font-semibold">Reimbursement</div>
                                        <div class="text-gray-600 text-sm">Get repaired externally and claim reimbursement</div>
                                        <div class="text-green-600 text-xs mt-1">âœ“ WhatsApp document submission</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="w-full bg-green-600 text-white py-4 rounded-lg font-semibold hover:bg-green-700 transition-colors text-lg">
                        <i class="fab fa-whatsapp mr-2"></i>Submit Claim & Get WhatsApp Updates
                    </button>
                    
                    <p class="text-center text-sm text-gray-600 mt-4">
                        After submission, you'll be redirected to WhatsApp for instant confirmation and live tracking.
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <div class="bg-white rounded-lg p-2 mr-3 shadow-md">
                            <img src="bijnor-services-logo.png" alt="Bijnor Services" class="h-10 w-auto">
                        </div>
                        <h3 class="text-lg font-semibold text-white">Bijnor Services</h3>
                    </div>
                    <p class="text-gray-300">Professional device services for Samsung Service Center and Bajaj Allianz Insurance Claims</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">WhatsApp Services</h3>
                    <ul class="text-gray-300 space-y-2">
                        <li>Real-time Claim Updates</li>
                        <li>24/7 AI Support Bot</li>
                        <li>Photo & Document Submission</li>
                        <li>Instant Status Tracking</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Commands</h3>
                    <ul class="text-gray-300 space-y-2">
                        <li><code>*NEW CLAIM*</code></li>
                        <li><code>*STATUS [ID]*</code></li>
                        <li><code>*SUPPORT*</code></li>
                        <li><code>*TRACK [ORDER]*</code></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact</h3>
                    <p class="text-gray-300">Civil Line, Bijnor, UP 246701</p>
                    <p class="text-gray-300">WhatsApp: +91 8006999806</p>
                    <p class="text-gray-300">Available: 24/7 via WhatsApp</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="text-gray-400">&copy; 2025 Bijnor Services. WhatsApp-First CRM Experience.</p>
            </div>
        </div>
    </footer>

    <script>
        // User session management
        let currentUser = null;

        // Check if user is logged in
        function isLoggedIn() {
            const session = localStorage.getItem('bijnorUserSession');
            if (session) {
                currentUser = JSON.parse(session);
                return true;
            }
            return false;
        }

        // Require login before accessing sections
        function requireLogin(sectionName) {
            if (!isLoggedIn()) {
                alert('ðŸ” Login Required\n\nPlease login as a partner to access ' + 
                      (sectionName === 'claims' ? 'Service Requests' : 'CRM Dashboard') + 
                      '\n\nFor immediate assistance, use WhatsApp support.');
                showSection('login');
                return false;
            }
            
            // Check SLA dashboard access
            if (sectionName === 'sla-dashboard' && currentUser.role !== 'admin') {
                alert('ðŸš« Access Restricted\n\nSLA Dashboard is only available for administrators.\n\nPlease contact your system administrator for access.');
                return false;
            }
            
            showSection(sectionName);
            return true;
        }

        // Access SLA dashboard with admin check
        function accessSLADashboard() {
            if (!isLoggedIn()) {
                alert('ðŸ” Admin Login Required\n\nSLA Dashboard requires administrator access.\n\nPlease login with admin credentials.');
                showSection('login');
                return;
            }
            
            if (currentUser.role !== 'admin') {
                alert('ðŸš« Admin Access Only\n\nSLA Dashboard is restricted to administrators.\n\nContact system admin for escalation access.');
                return;
            }
            
            window.open('escalation-sla.html', '_blank');
        }

        // Logout function
        function logout() {
            localStorage.removeItem('bijnorUserSession');
            currentUser = null;
            updateUIForLogin();
            showSection('home');
            alert('âœ… Logged out successfully');
        }

        // Update UI based on login status
        function updateUIForLogin() {
            const loginBtn = document.getElementById('login-btn');
            const userInfo = document.getElementById('user-info');
            const slaLink = document.getElementById('sla-dashboard-link');
            
            if (isLoggedIn()) {
                loginBtn.style.display = 'none';
                userInfo.style.display = 'block';
                document.getElementById('user-name').textContent = currentUser.name || currentUser.username;
                
                // Show SLA dashboard for admins only
                if (currentUser.role === 'admin') {
                    slaLink.style.display = 'block';
                }
            } else {
                loginBtn.style.display = 'block';
                userInfo.style.display = 'none';
                slaLink.style.display = 'none';
            }
        }

        // Navigation functionality
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionName + '-section').classList.remove('hidden');
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-green-100', 'text-green-600');
            });
            if (event && event.target) {
                event.target.classList.add('bg-green-100', 'text-green-600');
            }
        }

        // Social Login Functions
        function signInWithGoogle() {
            // Initialize Google OAuth
            google.accounts.id.initialize({
                client_id: 'your-google-client-id',
                callback: handleGoogleSignIn
            });
            google.accounts.id.prompt();
        }

        function handleGoogleSignIn(response) {
            // Handle Google sign-in response
            const userData = parseJwt(response.credential);
            console.log('Google user:', userData);
            
            // Store user data and redirect
            storeUserSession({
                provider: 'google',
                name: userData.name,
                email: userData.email,
                picture: userData.picture,
                loginTime: new Date().toISOString()
            });
            
            // Redirect to WhatsApp for CRM access
            const whatsappMessage = `*LOGIN SUCCESS* - ${userData.name} (${userData.email}) logged in via Google. Please provide dashboard access.`;
            window.open(`https://wa.me/918006999806?text=${encodeURIComponent(whatsappMessage)}`, '_blank');
        }

        function signInWithFacebook() {
            FB.login(function(response) {
                if (response.authResponse) {
                    FB.api('/me', {fields: 'name,email,picture'}, function(user) {
                        storeUserSession({
                            provider: 'facebook',
                            name: user.name,
                            email: user.email,
                            picture: user.picture.data.url,
                            loginTime: new Date().toISOString()
                        });
                        
                        const whatsappMessage = `*LOGIN SUCCESS* - ${user.name} (${user.email}) logged in via Facebook. Please provide dashboard access.`;
                        window.open(`https://wa.me/918006999806?text=${encodeURIComponent(whatsappMessage)}`, '_blank');
                    });
                }
            }, {scope: 'email'});
        }

        function signInWithApple() {
            // Apple Sign-In implementation would go here
            alert('Apple Sign-In integration requires Apple Developer account setup. For now, use WhatsApp login!');
            const whatsappMessage = `*LOGIN REQUEST* - I want to login using Apple ID. Please help me access the dashboard.`;
            window.open(`https://wa.me/918006999806?text=${encodeURIComponent(whatsappMessage)}`, '_blank');
        }

        // Traditional login form
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            // Mock authentication for demo (replace with real auth)
            const validCredentials = {
                'admin': { password: 'admin123', name: 'Administrator', role: 'admin' },
                'samsung_partner': { password: 'samsung123', name: 'Samsung Partner', role: 'samsung' },
                'bajaj_partner': { password: 'bajaj123', name: 'Bajaj Partner', role: 'bajaj' },
                'dealer': { password: 'dealer123', name: 'Dealer Partner', role: 'dealer' }
            };
            
            if (validCredentials[username] && validCredentials[username].password === password) {
                // Successful login
                const userData = {
                    username: username,
                    name: validCredentials[username].name,
                    role: validCredentials[username].role,
                    loginTime: new Date().toISOString()
                };
                
                storeUserSession(userData);
                updateUIForLogin();
                
                alert(`âœ… Login Successful!\n\nWelcome ${userData.name}\nRole: ${userData.role.charAt(0).toUpperCase() + userData.role.slice(1)}`);
                
                // Redirect to appropriate dashboard
                if (userData.role === 'admin') {
                    showSection('whatsapp-crm');
                } else {
                    showSection('whatsapp-crm');
                }
                
            } else {
                // Failed login - redirect to WhatsApp for verification
                alert('âŒ Invalid credentials. Redirecting to WhatsApp for manual verification...');
                const whatsappMessage = `*LOGIN REQUEST* - Username: ${username} | Please verify my credentials and provide dashboard access.`;
                window.open(`https://wa.me/918006999806?text=${encodeURIComponent(whatsappMessage)}`, '_blank');
            }
        });

        // Enhanced claims form with WhatsApp integration
        document.getElementById('claimsForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const claimNumber = 'BA2025' + String(Date.now()).slice(-6);
            
            const formData = {
                claimNumber: claimNumber,
                customerName: document.getElementById('customerName').value,
                customerPhone: document.getElementById('customerPhone').value,
                customerEmail: document.getElementById('customerEmail').value,
                customerAddress: document.getElementById('customerAddress').value,
                deviceBrand: document.getElementById('deviceBrand').value,
                deviceModel: document.getElementById('deviceModel').value,
                deviceImei: document.getElementById('deviceImei').value,
                purchaseDate: document.getElementById('purchaseDate').value,
                incidentType: document.getElementById('incidentType').value,
                incidentDate: document.getElementById('incidentDate').value,
                incidentDescription: document.getElementById('incidentDescription').value,
                serviceType: document.querySelector('input[name="serviceType"]:checked')?.value
            };
            
            // Store in localStorage
            let claims = JSON.parse(localStorage.getItem('bijnorClaims') || '[]');
            claims.push({
                ...formData,
                submittedAt: new Date().toISOString(),
                status: 'Registered'
            });
            localStorage.setItem('bijnorClaims', JSON.stringify(claims));
            
            // Create detailed WhatsApp message
            const whatsappMessage = `*NEW CLAIM SUBMISSION*

ðŸ†” Claim Number: ${claimNumber}
ðŸ‘¤ Name: ${formData.customerName}
ðŸ“± Phone: ${formData.customerPhone}
ðŸ“§ Email: ${formData.customerEmail}
ðŸ“ Address: ${formData.customerAddress}

ðŸ“± Device: ${formData.deviceBrand} ${formData.deviceModel}
ðŸ”¢ IMEI: ${formData.deviceImei}
ðŸ“… Purchase Date: ${formData.purchaseDate}

ðŸš¨ Incident: ${formData.incidentType}
ðŸ“… Incident Date: ${formData.incidentDate}
ðŸ“ Description: ${formData.incidentDescription}

ðŸ› ï¸ Service Type: ${formData.serviceType}

Please confirm receipt and provide next steps for claim processing.`;
            
            // Show success message
            alert(`ðŸŽ‰ Claim Submitted Successfully!

ðŸ“‹ Claim Number: ${claimNumber}

âœ… You'll now be redirected to WhatsApp for:
â€¢ Instant confirmation
â€¢ Real-time updates
â€¢ Photo submission (if needed)
â€¢ Live tracking

Our team will contact you within 30 minutes!`);
            
            // Reset form
            document.getElementById('claimsForm').reset();
            
            // Redirect to WhatsApp with claim details
            setTimeout(() => {
                window.open(`https://wa.me/918006999806?text=${encodeURIComponent(whatsappMessage)}`, '_blank');
            }, 2000);
        });

        // Utility functions
        function parseJwt(token) {
            const base64Url = token.split('.')[1];
            const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            return JSON.parse(jsonPayload);
        }

        function storeUserSession(userData) {
            localStorage.setItem('bijnorUserSession', JSON.stringify(userData));
            console.log('User session stored:', userData);
        }

        // Set today as max date for incident and purchase dates
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('incidentDate').max = today;
        document.getElementById('purchaseDate').max = today;
        document.getElementById('incidentDate').value = today;

        // Initialize Facebook SDK
        window.fbAsyncInit = function() {
            FB.init({
                appId: 'your-facebook-app-id',
                cookie: true,
                xfbml: true,
                version: 'v18.0'
            });
        };

        // Initialize application on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateUIForLogin();
            
            // Show welcome notification
            setTimeout(() => {
                if (!localStorage.getItem('welcomeNotificationShown')) {
                    const notification = document.createElement('div');
                    notification.className = 'fixed top-20 right-4 bg-white text-gray-800 p-6 rounded-xl shadow-2xl z-50 max-w-sm border-2 border-blue-300';
                    notification.innerHTML = `
                        <div class="flex items-center">
                            <div class="bg-gray-50 rounded-lg p-2 mr-4 shadow-md">
                                <img src="bijnor-services-logo.png" class="h-12 w-auto">
                            </div>
                            <div>
                                <div class="font-bold text-blue-800 text-lg">Welcome to Bijnor Services!</div>
                                <div class="text-sm text-gray-600">Professional device service & insurance solutions</div>
                            </div>
                            <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-gray-500 hover:text-gray-700">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    `;
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        if (notification.parentElement) {
                            notification.remove();
                        }
                    }, 8000);
                    
                    localStorage.setItem('welcomeNotificationShown', 'true');
                }
            }, 2000);
        });
    </script>
</body>
</html>